<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your DeepSeek on Azure</title>
    <link rel="stylesheet" href="styles/conversation.css">
</head>

<body>
    <div class="container">
        <h1>Your DeepSeek on Azure</h1>
        <div class="chat-box" id="chatBox"></div>

        <div class="input-area full-width" style="margin: 0; padding: 0; box-sizing: border-box;">
            <textarea id="userInput" placeholder="输入消息..." onkeydown="handleKeyPress(event)" class="full-width"
                style="width: 100%; height: 100%; box-sizing: border-box; resize: none; margin: 0; padding: 10px;"></textarea>
        </div>

        <div class="button-group full-width">
            <button onclick="sendMessage()" class="send-btn">
                <span class="send-text">发送</span>
                <span class="loading-dots"></span>
            </button>
            <button onclick="clearHistory()">清除</button>
            <button id="settingsIcon" onclick="toggleSettingsMenu()">⚙️</button>
        </div>
        <div id="progressBarContainer" style="display: none;">
            <div id="progressBar"></div>
        </div>
        <div id="timer" style="display: none;">0 seconds</div>
    </div>

    <div id="settingsMenu" style="display: none;">
        <h3>Settings</h3>
        <div class="settings-row">
            <label for="model">Model:</label>
            <input type="text" id="model" value="DeepSeek-R1">
        </div>
        <div class="settings-row">
            <label for="apiKey">API Key:</label>
            <input type="password" id="apiKey" placeholder="Enter API Key">
        </div>
        <div class="settings-row">
            <label for="maxTokens">Max Tokens:</label>
            <input type="number" id="maxTokens" value="4096">
        </div>
        <div class="settings-row">
            <label for="temperature">Temperature:</label>
            <input type="number" id="temperature" value="0.8" step="0.1">
        </div>
        <div class="settings-row">
            <label for="topP">Top P:</label>
            <input type="number" id="topP" value="0.95" step="0.05">
        </div>
        <div class="settings-row">
            <label for="n">N:</label>
            <input type="number" id="n" value="1">
        </div>
        <div class="settings-row">
            <label for="stream">Stream:</label>
            <input type="checkbox" id="stream" checked>
        </div>
        <div class="settings-row">
            <label for="logprobs">Logprobs:</label>
            <input type="text" id="logprobs" placeholder="None">
        </div>
        <div class="settings-row">
            <label for="stop">Stop:</label>
            <input type="text" id="stop" placeholder="None">
        </div>
        <div class="settings-row">
            <label for="frequency_penalty">Frequency Penalty:</label>
            <input type="number" id="frequency_penalty" value="0" step="0.1">
        </div>
        <div class="settings-row">
            <label for="presence_penalty">Presence Penalty:</label>
            <input type="number" id="presence_penalty" value="0" step="0.1">
        </div>
        <button onclick="dismissSettingsMenu()">OK</button>
    </div>
    <div id="overlay" onclick="dismissSettingsMenu()" style="display: none;"></div>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="scripts/conversation.js"></script>
</body>

</html>